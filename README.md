# Hackathon-Lenta-Team2
–°–æ–≤–º–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç 10 –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤ –Ø–ü –≤ —Ä–∞–º–∫–∞—Ö –•–∞–∫–∞—Ç–æ–Ω–∞ –¥–ª—è —Å–µ—Ç–∏ –≥–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–æ–≤ "–õ–µ–Ω—Ç–∞".
    
–¶–µ–ª—å—é –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞, —Å–ø–æ—Å–æ–±–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø—Ä–æ—Å –Ω–∞ —Ç–æ–≤–∞—Ä—ã —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –±—ã —Å–µ—Ç–∏ –≥–∏–ø–µ—Ä–º–∞—Ä–∫–µ—Ç–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∞—Å—ã –∏ —É–ª—É—á—à–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π.
    
–î–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —ç—Ç–æ–π —Ü–µ–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–æ–≤–µ–ª–∞ –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∞ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª–∏–ª–∏ –±—ã –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø—Ä–æ—Å –Ω–∞ —Ç–æ–≤–∞—Ä—ã.

–í –¥–∞–Ω–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–±—â–∞—è —Å–±–æ—Ä–∫–∞ —Ä–∞–±–æ—Ç –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥.

### –°—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- [üîóFrontend](https://github.com/Hackathon-Lenta-Team2/frontend)
- [üîóDesign](https://www.figma.com/file/2Mxz9r4EpsNjL8mJFgRQgM/%D0%9B%D0%B5%D0%BD%D1%82%D0%B0.-%D0%94%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD?type=design&node-id=52%3A432&mode=design&t=t3UMucqylrbL4jSm-1)
- [üîóData Science](https://github.com/Hackathon-Lenta-Team2/ds)

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:
#### –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –ø–æ —Å—Å—ã–ª–∫–µ: [üîóDS Model](https://drive.google.com/file/d/1_hg6Ik4bL5PoKDJzi39wJ1R5K67L0H8K/view)
<details>
<summary>–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Ä—É—á–Ω—É—é</summary>

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É `infra` –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ.
```bash
git clone https://github.com/Hackathon-Lenta-Team2/Hackathon-Lenta-Team2.git
cd Hackathon-Lenta-Team2/infra/
```

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ infra/ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –∏ `.env.ds`, –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∏—Ö —Å–æ–≥–ª–∞—Å–Ω–æ —à–∞–±–ª–æ–Ω–∞–º, 
–∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –≤ —Ñ–∞–π–ª–∞—Ö `.env.example` –∏ `.env.example_ds`.
```bash
cat ./.env.example > .env
cat ./.env.example_ds > .env.ds
```
–ü–æ–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª —Å –º–æ–¥–µ–ª—å—é `rf.joblib` –≤ –ø–∞–ø–∫—É `ds/scripts/src/`.

–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç:
``` bash
# –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ infra/
# —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–º –ü–ö
docker-compose up -d
```

–î–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î –≥–æ—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–∞–º–∏:
``` bash
# –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ infra/
# –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä c –ë–î
docker compose cp ./dump_db_hakathon.sql db:var/lib/postgresql/

# —É–¥–∞–ª–∏—Ç—å –∏ –∑–∞–Ω–æ–≤–æ —Å–æ–∑–¥–∞—Ç—å –ë–î
docker compose exec db dropdb postgres
docker compose exec db createdb postgres

# –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
docker compose exec db pg_restore -d postgres var/lib/postgresql/dump_db_hakathon.sql
```
–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ [üîó–ê–¥–º–∏–Ω-–∑–æ–Ω—É](http://127.0.0.1/admin/):
```bash
username: admin
password: admin
```
</details>

<details>
<summary>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∑–∞–ø—É—Å–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤</summary>

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ.
```bash
git clone https://github.com/Hackathon-Lenta-Team2/Hackathon-Lenta-Team2.git
# –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —à–∞–≥–∞
cd Hackathon-Lenta-Team2/ds/scripts/src/
```
#### 2. –ü–æ–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª —Å –º–æ–¥–µ–ª—å—é `rf.joblib` –≤ –ø–∞–ø–∫—É `ds/scripts/src/`.

#### 3. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç:
<details>
<summary>–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Windows:</summary>

#### –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Git Bash —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –≤–∞—à–µ–º –ü–ö
``` bash
# –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ infra\
# —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–º –ü–ö
.\run.sh
# –¥–æ–∂–¥–∏—Ç–µ—Å—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è "Service started successfully."
# –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```
#### –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î:
``` bash
.\db_restore.sh
```
</details>
<details>
<summary>–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Unix/Linux:</summary>

``` bash
# –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ infra/
# —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–º –ü–ö
sh run.sh
# –¥–æ–∂–¥–∏—Ç–µ—Å—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è "Service started successfully."
# –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```
#### –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î:
``` bash
sh db_restore.sh
```
</details>

#### 4. –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ [üîó–ê–¥–º–∏–Ω-–∑–æ–Ω—É](http://127.0.0.1/admin/):
```bash
username: admin
password: admin
```
</details>

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

–ü—Ä–æ–µ–∫—Ç —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: [üîóHackathon-Lenta-Team2](http://127.0.0.1/)

–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
# –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ infra/
docker-compose down
```
–ï—Å–ª–∏ –≤–∞–º –Ω–µ –Ω—É–∂–Ω—ã –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å–æ–∑–¥–∞–Ω–∏—è
—Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–∑–æ–Ω—É:
``` bash
# –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ infra/
# —Å–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
docker-compose exec back python manage.py createsuperuser
```
### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

<details>
<summary>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ API —Å–∫—Ä–∏–Ω—à–æ—Ç üì∏</summary>

 ![–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ API](readme_data/API_docs_screenshot.png)
</details>

#### –í –∑–∞–ø—É—â–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ:

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ API –¥–æ—Å—Ç—É–ø–Ω–∞ [üîó–ó–¥–µ—Å—å](http://127.0.0.1/docs/)

–ê–≤—Ç–æ-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (drf-spectacular) [üîó–ó–¥–µ—Å—å](http://127.0.0.1/docs-auto/)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±—ç–∫–µ–Ω–¥–∞
<details>
<summary>–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</summary>

- Postgres
- Django, Django REST Framework, Djoser, Drf-spectacular
- Django UnitTest, Factory-boy
- Celery, Flower, Gunicorn, Loguru, Pandas, Redis
- Requests, XlsxWriter

</details>

<details>
<summary>–°—Ö–µ–º–∞ –ë–î –Ω–∞ —ç—Ç–∞–ø–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</summary>

![–°—Ö–µ–º–∞ –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤](readme_data/db_overview.png)
</details>

<details>
<summary>–°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Docker Compose</summary>

![–°—Ö–µ–º–∞ –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤](readme_data/containers_schema.png)
</details>

<details>
<summary>Data Flow</summary>


![Coverage](readme_data/data_flow.png)
</details>

<details>
<summary>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</summary>

–í —Ä–∞–º–∫–∞—Ö –•–∞–∫–∞—Ç–æ–Ω–∞ –¥–æ–±–∏–ª–∏—Å—å –ø–æ–∫—Ä—ã—Ç–∏—è –≤ 85%

![Coverage](readme_data/coverage.png)
</details>